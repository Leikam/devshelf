/*!
 * $ Simple Modal plugin
 * Author: John Deerhake, @jdeerhake
 * Version 0.0.7
 * Licensed under the MIT license
 */
!function(a){function b(b,c){a.extend(this,c),this.el=a(b),this.isShown=!1,this.init()}var c=300,d={"class":"simple-modal-box"},e=function(){var b=!1;return function(){return b||(b=a("<div />",{"class":"simple-modal-backdrop"}).appendTo("body"))}}();b.prototype={init:function(){this.modal={},this.modal.el=a("<div />",{"class":this["class"]}).appendTo("body"),this.modal.el.append(this.el.remove().show()).css({left:0,top:0,position:"fixed"}),this.el.on("show",a.proxy(this,"show")),this.el.on("hide",a.proxy(this,"hide")),this.el.on("change",a.proxy(this,"center"));var b=a.proxy(this.el,"trigger","show"),c=a.proxy(this.el,"trigger","hide");this.el.find(".close").on("click",c),e().on("click",c),this.el.on("click",".close",c),this.trigger&&this.trigger.on("click",b),a(document).on("keyup",function(a){27===a.keyCode&&c()})},show:function(){return this.isShown?!1:(this.isShown=!0,e().show(),this.center(),this.modal.el.fadeIn(c,a.proxy(function(){this.el.trigger("shown")},this)),!1)},hide:function(){return this.isShown?(this.isShown=!1,e().fadeOut(c),this.modal.el.fadeOut(c,a.proxy(function(){this.el.trigger("hidden")},this)),!1):!1},center:function(){this.modal.el.css({marginLeft:-1*Math.floor(this.modal.el.outerWidth()/2),marginTop:-1*Math.floor(this.modal.el.outerHeight()/2),position:"fixed",top:"50%",left:"50%"})}},a.fn.simpleModal=function(c){var e=a.extend({},d,c);return this.each(function(){new b(this,e)})}}(jQuery);